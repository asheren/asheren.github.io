---
layout: post
title: Building a Bot
date: '2013-12-09T10:12:00.000-05:00'
author: Allison McMillan
tags:
- mentoring
- setting goals
- becoming a developer
- projects
- bot
modified_time: '2013-12-09T10:12:16.836-05:00'
blogger_id: tag:blogger.com,1999:blog-6054545261088815023.post-2338922805658253731
blogger_orig_url: http://allisonsherenmcmillan.blogspot.com/2013/12/building-bot.html
---

I recently mentioned in my mentorship goals that one of the things I wanted to quickly dive into were databases. There are a variety of database types and ways to work with them. I was able to get an introductory handle by looking over <a href="http://sql.learncodethehardway.org/book/">Learn SQL the Hard Way</a> and doing some additional research but databases are difficult to understand until you really start doing work with them.<br /><br />At the same time, the bot in an <a href="http://en.wikipedia.org/wiki/Internet_Relay_Chat">IRC</a> channel I often use was acting up. Basically, the bot was/is pretty much broken and needs to be restarted but no one knows who is actually able to restart the bot. <a href="http://www.twitter.com/crsexton">Chris</a> and I decided that a great first project for us to work on via the mentorship program would be to build a bot and to add a database component to it.<br /><br />So first, what is a bot? A bot is a program that you can connect into a chat room (in this case an IRC channel) which will then respond to different conversations or things happening in the chat room. Most workplaces I’ve spoke to that utilize hipchat, campfire, or other internal chat communication tools have some sort of bot that hangs out in the room as well and makes it more entertaining. It’ll pop up funny gifs or respond to things people say. It can also be useful by providing information about testing or alert the room when someone deploys code.<br /><br />My bot’s name is Rosie. She’s awesome. I’ll write up a few posts in the future that describe more about what she does but for now, I just want to go over the setup. First, I used <a href="https://github.com/cinchrb/cinch">cinch</a>. Cinch is a great, easy way to set up a bot and gives pretty straightforward instructions that get you moving quickly.<br /><br />This is what the setup code looks like.<br /><br /><pre>bot = Cinch::Bot.new do <br />  configure do |c| <br />    c.server = 'irc.freenode.net' <br />    c.realname = 'Rosie' <br />    <br />      c.channels = ['#rosie'] <br />      c.user = 'rosie_' <br />      c.nick = c.user <br />  end<br /></pre><br />Now, to walk through each line.<br />The first line <code> bot = Cinch::Bot.new do </code> creates a new bot using cinch. This new method takes a block.<br />In the next line <code>  configure do |c| </code>, we are in the block configuring the method. This method also takes a block and passes in the cinch configuration for the bot which means it passes in a reference to itself that you can configure.<br />The third line <code> c.server = 'irc.freenode.net'</code> shows the server we are connecting to.<br />Then <code>c.realname = 'Rosie'</code> is the real name that will show up when someone asks who is in the IRC channel.<br />Next, <code> c.channels = ['#rosie']</code> is the channel that the bot connects to. Right now I’m just testing her out, so I have her connecting to an independent channel that no one is using.<br />Coming to the end, the 2nd to last line <code>c.user = 'rosie_'</code> gives the nick name of the bot that will show up in the channel.<br />And finally, <code>c.nick = c.user</code> sets the nickname to the same thing as the username.<br /><br />So, there’s the initial setup. I’ll do future posts on both functionality and integration of a database, as well as one on what is IRC in general for those not familiar with it.