---
layout: post
title: Look what my Bot can do!
date: '2013-12-16T13:20:00.000-05:00'
author: Allison McMillan
tags:
- becoming a developer
- learning
- projects
- bot
modified_time: '2013-12-16T13:20:50.642-05:00'
blogger_id: tag:blogger.com,1999:blog-6054545261088815023.post-7824418238050687515
blogger_orig_url: http://allisonsherenmcmillan.blogspot.com/2013/12/look-what-my-bot-can-do-bot.html
---

It’s amazing what a little chatbot can accomplish. It can make your day much brighter and more fun!! So, let’s talk about what Rosie can do, because it’s a lot.<br /><br />So, first, Rosie can do some of the standard things like reply with gifs about coffee, District Taco, and lol’s. She also responds when you say good morning so that everyone every morning gets a fun response. She reacts to you when you say you love or hate coding, and she’s all about refactoring.<br /><br />Those commands are accomplished via regular expressions. Regular expressions are a concise, flexible way to pick out specific words, phrases, characters, etc. Regular expressions look really terrifying when you first encounter then, but are actually really handy and not so scary once you get a handle on them. Based on <a href="https://twitter.com/nellshamrell">Nell</a>’s <a href="http://www.slideshare.net/NellShamrell/beneath-the-surface-rubyconf-2013">talk</a>/suggestion at RubyConf, I made a permalink for each regex and put it as a comment in my code so I can always go back to it later. I used <a href="http://rubular.com/">rubular</a> when crafting the regex’s which made them a breeze. (Okay, not a breeze at first, but made it much easier to learn and figure out what each character did and how it altered what I was trying to do).<br /><br />The next set up functions are random things that Rosie will say periodically. <br /><pre>on :message do |m|<br />  if rand(500) == 0<br />    m.reply "SQUIRREL!"<br />  end<br />end<br /></pre>This basically say that for each message sent, the script will see if that number matches 0 and if it does, then the bot will reply with “SQUIRREL!”. There’s another one of these built in there as well, but people will have to wait to see what that is.<br /><br />Finally, there are some responses where rosie can choose to respond as a reply or as an action.<br />These options look like this:<br /><pre>on :message, /#{config.nick}\?/i do |m| <br />  response = [<br />    [:reply, "Did someone ask for me?"],<br />    [:reply,    "http://31.media.tumblr.com/fe021d747a605a8a7cba5767011251e1/tumblr_mjpo4q44aj1rjatglo1_500.gif"],<br />    [:reply, "what do you want now?"],<br />    [:reply, "#{m.user.nick}, why are you bothering me?"],<br />    [:reply, "it wasn't me."],<br />    [:reply, "yyyyeessss?"],<br />    [:action, "hides"],<br />  ]<br />  msg = response.sample    <br />  if msg.first == :action   <br />    m.channel.action msg.last <br />  else<br />    m.reply msg.last  <br />  end<br />end<br /></pre>So, each line…<br />The first line says that on the message whatever the configured nickname of the bot is (meaning that I can change Rosie’s name and the regex will still work) followed by the “?” then (next line) Rosie will reply with one of the options in the array. The next few lines show the options that Rosie can reply with and whether they are a reply or an action. A reply would look like this:<br />Rosie: It wasn’t me<br />While an action would look like this:<br />*Rosie hides<br />Then, <code>msg = response.sample</code> says picks a random value from the message array. (Next line) if the first element in that array is an action (:action), then (next line) add <code>/me</code> to it when it replies in the channel. Otherwise, reply like normal.<br /><br />The next post will talk about functionality that incorporates some more complicated methods and a database!