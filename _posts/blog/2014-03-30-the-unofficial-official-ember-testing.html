---
layout: post
title: The Unofficial, official Ember Testing Guide
date: '2014-03-30T19:06:00.003-04:00'
author: Allison McMillan
tags:
- testing
- emberconf 2014
- learning
- ember
modified_time: '2014-03-30T19:06:35.341-04:00'
blogger_id: tag:blogger.com,1999:blog-6054545261088815023.post-847549764030986977
blogger_orig_url: http://allisonsherenmcmillan.blogspot.com/2014/03/the-unofficial-official-ember-testing.html
---

<br />This was one of the sessions I was anxiously awaiting and it did not disappoint. First, a big hand of applause for <a href="https://twitter.com/coderberry">Eric Berry</a> for giving an excellent talk (his first one!). <a href="https://speakerdeck.com/coderberry/the-unofficial-official-ember-testing-guide">The slides</a> were excellent and I can’t wait to continue looking into the new <a href="https://github.com/rpflorence/ember-qunit">ember-qunit</a>. <br /><br />Testing looks at assertions. Assertions test the state of your code and QUnit is the default assertion library. In ember tests, there are always two parts, the setup and the teardown (those are callbacks). Now, there are assertions that are already provided (see the slide for those). One thing that Eric noted was that <a href="http://visionmedia.github.io/mocha/">mocha</a> and <a href="http://jasmine.github.io/">jasmine</a> are not excluded in ember… you can use either of those for testing as well, but <a href="https://qunitjs.com/">qunit</a> is the happy path (a phrase I’ve come to know and love since working with ember).<br /><br />Helpers help us guide our app to the state we want to test in our assertions. Looking at the callbacks, the <code>setupForTesting</code> sets up the router, etc. then you call <code>injectTestHelpers </code> which sets up the helpers so then, in your actual test, you write your helpers and then your assertions. Ember.test runs the helpers and qunit runs the assertions. Additionally, there are a bunch of different types of helpers starting with asynchronous helpers, synchronous helpers, and wait helpers. Asynchronous helpers wait for the proceeding helps to finish before they run. These are <code> visit(), fillIn(), click(), </code>and <code>keyEvent()</code>. Synchronous helpers run instantly. An example is <code>find()</code> and finally wait helpers wait for asynchronous helpers to complete before running. An example is <code>andThen()</code>.<br /><br />Then there are custom helpers.  Use <code>registerHelper()</code> to create an asynchronous helper. Use <code>registerAsyncHelper()</code> to create a new async helper. A final reminder at the end of this part was that you still have to call <code>injectTestHelpers</code> to make sure you run the helpers regardless of whether they’re custom or not.<br /><br />So now, the new things that will be in Ember 1.5. There will be new integration helpers. For example, <code>triggerEvent()</code> which takes three arguments: selector, event, and anything additional you need to add. Others are <code>currentRouteName(), currentPath(), </code>and<code> currentURL()</code>.<br /><br />At this point, there was an awesome example of testing search, so if you’ve got search in your app, check it out.<br /><br />The next part looked at how to test in isolation. So instead of having to test all the pieces all the time, you want to test specific aspects. This is where ember-qunit was introduced. Ember-qunit is a library that lets you perform unit tests without loading the whole container. Ember-qunit was inspired by rspec. You start by setting up the globals is <code>emq.globalize()</code> and then you need to set up the resolver (described as the thing that can find anything… ie- mom). It also provides module helpers. These are <code>moduleFor(), moduleForComponent(), </code>and <code>moduleForModel() </code>.  For the example <code>moduleFor(“route:index”)</code>, it’s basically saying “hey resolver, I need you to pull this (the route:index in this case) from the container. <code>moduleForModel()</code> is specifically for testing Ember-data. There are super descriptive, awesome slides for each of these module helpers. <br /><br />The last piece I noted was in controllers. In those tests, you’ll notice a “needs” field. Needs is used to bring in the dependency that the test need to bring in, in order to run… in the case on the slide, the controller for application.<br /><br />To get going with ember-qunit, you just need to do bower install ember-qunit. It’s in ember-appkit and ember-cli already.<br /><br />Finally, the last big announcement was that the team is redoing the testing guide on the ember.js site.<br /><br />Happy Testing!!